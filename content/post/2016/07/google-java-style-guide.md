+++
date = "2016-07-25T18:32:42+08:00"
description = "[译]Google Java编程风格指南"
draft = false
tags = ["Java","Style Guide","Google"]
title = "[译]Google Java编程风格指南"
topics = ["Google Java Style Guide"]

+++

## 目录

1. 介绍
2. 源文件基础
3. 源文件结构
4. 格式
5. 命名
6. 编程实战
7. Javadoc

## 介绍

这份文档是Google Java编码规范的完整定义。当且仅当一个Java源文件符合此文档中的规则， 我们才认为它符合Google的Java编程风格。<!--more-->

与其它的编程风格指南一样，这里所讨论的不仅覆盖格式化美观的问题，同时也包括其它约定和编码规范。然而，这份文档主要关注的是我们普遍遵守的规则，对于显然不是可执行的将避免给出建议。

### 术语说明

在这份文档中，除非另外声明：

1. 术语*class*表示包括一个普通类，枚举类，接口或者注解类型(@interface)。
2. 术语*comment*总是用来指代*实现(implementation)*注释。我们不使用“文档注释”一词，而是使用术语“Javadoc”。

其它的术语说明会偶尔在文档中出现。

### 指南说明

文档中的示例代码是**非规范**的。这就是说，虽然示例是Google风格的，但这不代表是代码风格的唯一方式。示例中的格式选择不应该被强制用来作为标准。

## 源文件基础

### 文件名

源文件名以其包含的顶级类(只有一个)名字来命名，且是大小写敏感的，文件扩展名为``.java``。

### 文件编码：UTF-8

源文件以UTF-8作为编码格式。

### 特殊字符

#### 空白字符

除了换行符序列，ASCII编码的水平空格字符(0x20)是唯一允许在源文件任意位置出现的空白字符。这意味着：

1. 所有其它的字符串中的空白字符和字符字面量都会被转义。
2. 制表符不用于缩进。

#### 特殊转义序列

对于任何具有特殊转义序列(``\b,\t,\n,\f,\r``,``\"``,``\'``和``\\``)的字符，使用它的特殊序列，而不是相应的八进制(比如``\012``)或者Unicode(比如``\u000a``)转义。

#### 非ASCII字符

对于剩下的非ASCII字符，是使用实际的Unicode字符还是等价的Unicode转义字符，主要取决于哪种方式更易于阅读和理解，尽管Unicode转义的字符串字面量和注释是强烈不推荐的。

> Tip:当使用一些Unicode转义字符或是实际的Unicode字符时，写一些解释注释会非常有助于阅读。

例子：

| 例子 | 讨论 |
| ------| ------ |
| ``String unitAbbrev = "μs"; `` | 最优：即使没有注释也非常清晰 |
| ``String unitAbbrev = "\u03bcs" //"μs" `` | 允许，但是没有理由这么做 |
| ``String unitAbbrev = "\u03bcs" // Greek letter mu, "s" ``|允许，但是这样做显得笨重，并且容易出错|
| ``String unitAbbrev = "\u03bcs"; ``|糟糕：阅读的人不知道这是什么|
| ``return '\ufeff' + content; // byte order mark``|好：对于非打印字符使用转义，但是必要时需要加上注释|

> Tip:永远不要由于害怕某些程序不能处理非ASCII字符而使你的代码降低可读性。如果这种情况发生了，那么那些程序是有问题的，必须被修复(fix)。

## 源文件结构

一份源文件包含(按顺序的)：

1. 许可或者版权信息，如果有的话
2. Package语句
3. Import语句
4. 有且只有一个顶级类

每个部分只用一个空白行分隔。

### 许可或者版权信息，如果存在的话

如果一个文件包含许可或者版权信息，那么它应该被放在这里。

### Package语句

package语句不换行。列限制并不适用于package语句。

### Import语句

#### 不使用通配符的Import语句

含有通配符的import语句，包括静态的和非静态的，都不要使用。

#### 不要换行

import语句是不换行的。列限制不适用于import语句。

#### 顺序和空格

import语句按以下顺序：

1. 所有的静态import语句在一个单独的块(block)中。
2. 所有的非静态import语句在一个单独的块中。

如果同时有静态的和非静态的import，用一个空行来分隔两块。除此之外，在两块之间不存在其它的空白行。

在每个块中以ASCII字符进行排序。

### 类声明

#### 只有一个顶级类声明

一个源文件只有一个顶级类声明。

#### 类成员排序

类成员的顺序对易学性有很大的影响，但这也不存在唯一正确的规则。不同的类对成员的排序可能不同。重要的是类成员的排序应该是某种逻辑排序，类维护者应该能解释它的逻辑。比如说，新的方法不应该只是习惯性地放在最后，应该放弃这种按时间的排序，因为这不是逻辑排序。
